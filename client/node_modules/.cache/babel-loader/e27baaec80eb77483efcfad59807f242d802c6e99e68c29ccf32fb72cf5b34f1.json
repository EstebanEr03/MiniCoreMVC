{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\esteb\\\\OneDrive\\\\Escritorio\\\\MiniCore\\\\client\\\\src\\\\views\\\\ExpensesComponent.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getExpenses } from '../Controllers/expensesController';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Expenses = () => {\n  _s();\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [departmentId, setDepartmentId] = useState(''); // Estado para el departamento\n  const [expenses, setExpenses] = useState([]);\n  const [error, setError] = useState(null);\n  const [departments, setDepartments] = useState([]); // Lista de departamentos\n\n  // Cargar la lista de departamentos al montar el componente\n  useEffect(() => {\n    fetch('http://localhost:3000/api/departments').then(response => response.json()).then(data => setDepartments(data)).catch(error => console.error('‚ùå Error al obtener departamentos:', error));\n  }, []);\n  const fetchExpenses = async () => {\n    if (!startDate || !endDate) {\n      setError('‚ö†Ô∏è Por favor, ingrese ambas fechas.');\n      return;\n    }\n    try {\n      console.log('üîç Enviando solicitud con:', {\n        startDate,\n        endDate,\n        departmentId\n      });\n      const data = await getExpenses(startDate, endDate, departmentId || null);\n      setExpenses(data);\n      setError(null);\n    } catch (err) {\n      setError('‚ö†Ô∏è No se pudieron obtener los datos.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Reporte de Gastos por Departamento\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Fecha Inicio:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: startDate,\n        onChange: e => setStartDate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Fecha Fin:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: endDate,\n        onChange: e => setEndDate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Departamento:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: departmentId,\n        onChange: e => setDepartmentId(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Todos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), departments.map(dep => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: dep.id,\n          children: dep.name\n        }, dep.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchExpenses,\n        children: \"Consultar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Resultados:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: expenses.length > 0 ? expenses.map((expense, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [expense.departmentName, \": $\", expense.totalAmount]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No hay datos disponibles.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(Expenses, \"7N3Ok8g8kfmD4mlLc64D4k9Rxm8=\");\n_c = Expenses;\nexport default Expenses;\nvar _c;\n$RefreshReg$(_c, \"Expenses\");","map":{"version":3,"names":["React","useState","useEffect","getExpenses","jsxDEV","_jsxDEV","Expenses","_s","startDate","setStartDate","endDate","setEndDate","departmentId","setDepartmentId","expenses","setExpenses","error","setError","departments","setDepartments","fetch","then","response","json","data","catch","console","fetchExpenses","log","err","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","map","dep","id","name","onClick","style","color","length","expense","index","departmentName","totalAmount","_c","$RefreshReg$"],"sources":["C:/Users/esteb/OneDrive/Escritorio/MiniCore/client/src/views/ExpensesComponent.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { getExpenses } from '../Controllers/expensesController';\r\n\r\nconst Expenses = () => {\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n  const [departmentId, setDepartmentId] = useState(''); // Estado para el departamento\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [departments, setDepartments] = useState([]); // Lista de departamentos\r\n\r\n  // Cargar la lista de departamentos al montar el componente\r\n  useEffect(() => {\r\n    fetch('http://localhost:3000/api/departments')\r\n      .then(response => response.json())\r\n      .then(data => setDepartments(data))\r\n      .catch(error => console.error('‚ùå Error al obtener departamentos:', error));\r\n  }, []);\r\n\r\n  const fetchExpenses = async () => {\r\n    if (!startDate || !endDate) {\r\n      setError('‚ö†Ô∏è Por favor, ingrese ambas fechas.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log('üîç Enviando solicitud con:', { startDate, endDate, departmentId });\r\n\r\n      const data = await getExpenses(startDate, endDate, departmentId || null);\r\n      setExpenses(data);\r\n      setError(null);\r\n    } catch (err) {\r\n      setError('‚ö†Ô∏è No se pudieron obtener los datos.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Reporte de Gastos por Departamento</h1>\r\n      <div>\r\n        <label>Fecha Inicio:</label>\r\n        <input\r\n          type=\"date\"\r\n          value={startDate}\r\n          onChange={(e) => setStartDate(e.target.value)}\r\n        />\r\n\r\n        <label>Fecha Fin:</label>\r\n        <input\r\n          type=\"date\"\r\n          value={endDate}\r\n          onChange={(e) => setEndDate(e.target.value)}\r\n        />\r\n\r\n        <label>Departamento:</label>\r\n        <select value={departmentId} onChange={(e) => setDepartmentId(e.target.value)}>\r\n          <option value=\"\">Todos</option>\r\n          {departments.map((dep) => (\r\n            <option key={dep.id} value={dep.id}>{dep.name}</option>\r\n          ))}\r\n        </select>\r\n\r\n        <button onClick={fetchExpenses}>Consultar</button>\r\n      </div>\r\n\r\n      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n\r\n      <div>\r\n        <h2>Resultados:</h2>\r\n        <ul>\r\n          {expenses.length > 0 ? (\r\n            expenses.map((expense, index) => (\r\n              <li key={index}>\r\n                {expense.departmentName}: ${expense.totalAmount}\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <p>No hay datos disponibles.</p>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Expenses;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACtD,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACiB,WAAW,EAAEC,cAAc,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;;EAEpD;EACAC,SAAS,CAAC,MAAM;IACdkB,KAAK,CAAC,uCAAuC,CAAC,CAC3CC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAIL,cAAc,CAACK,IAAI,CAAC,CAAC,CAClCC,KAAK,CAACT,KAAK,IAAIU,OAAO,CAACV,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC,CAAC;EAC9E,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMW,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI,CAACnB,SAAS,IAAI,CAACE,OAAO,EAAE;MAC1BO,QAAQ,CAAC,qCAAqC,CAAC;MAC/C;IACF;IAEA,IAAI;MACFS,OAAO,CAACE,GAAG,CAAC,4BAA4B,EAAE;QAAEpB,SAAS;QAAEE,OAAO;QAAEE;MAAa,CAAC,CAAC;MAE/E,MAAMY,IAAI,GAAG,MAAMrB,WAAW,CAACK,SAAS,EAAEE,OAAO,EAAEE,YAAY,IAAI,IAAI,CAAC;MACxEG,WAAW,CAACS,IAAI,CAAC;MACjBP,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAOY,GAAG,EAAE;MACZZ,QAAQ,CAAC,sCAAsC,CAAC;IAClD;EACF,CAAC;EAED,oBACEZ,OAAA;IAAAyB,QAAA,gBACEzB,OAAA;MAAAyB,QAAA,EAAI;IAAkC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC3C7B,OAAA;MAAAyB,QAAA,gBACEzB,OAAA;QAAAyB,QAAA,EAAO;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC5B7B,OAAA;QACE8B,IAAI,EAAC,MAAM;QACXC,KAAK,EAAE5B,SAAU;QACjB6B,QAAQ,EAAGC,CAAC,IAAK7B,YAAY,CAAC6B,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C,CAAC,eAEF7B,OAAA;QAAAyB,QAAA,EAAO;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACzB7B,OAAA;QACE8B,IAAI,EAAC,MAAM;QACXC,KAAK,EAAE1B,OAAQ;QACf2B,QAAQ,EAAGC,CAAC,IAAK3B,UAAU,CAAC2B,CAAC,CAACC,MAAM,CAACH,KAAK;MAAE;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC,eAEF7B,OAAA;QAAAyB,QAAA,EAAO;MAAa;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC5B7B,OAAA;QAAQ+B,KAAK,EAAExB,YAAa;QAACyB,QAAQ,EAAGC,CAAC,IAAKzB,eAAe,CAACyB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAAAN,QAAA,gBAC5EzB,OAAA;UAAQ+B,KAAK,EAAC,EAAE;UAAAN,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EAC9BhB,WAAW,CAACsB,GAAG,CAAEC,GAAG,iBACnBpC,OAAA;UAAqB+B,KAAK,EAAEK,GAAG,CAACC,EAAG;UAAAZ,QAAA,EAAEW,GAAG,CAACE;QAAI,GAAhCF,GAAG,CAACC,EAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAmC,CACvD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC,eAET7B,OAAA;QAAQuC,OAAO,EAAEjB,aAAc;QAAAG,QAAA,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/C,CAAC,EAELlB,KAAK,iBAAIX,OAAA;MAAGwC,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAM,CAAE;MAAAhB,QAAA,EAAEd;IAAK;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEjD7B,OAAA;MAAAyB,QAAA,gBACEzB,OAAA;QAAAyB,QAAA,EAAI;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpB7B,OAAA;QAAAyB,QAAA,EACGhB,QAAQ,CAACiC,MAAM,GAAG,CAAC,GAClBjC,QAAQ,CAAC0B,GAAG,CAAC,CAACQ,OAAO,EAAEC,KAAK,kBAC1B5C,OAAA;UAAAyB,QAAA,GACGkB,OAAO,CAACE,cAAc,EAAC,KAAG,EAACF,OAAO,CAACG,WAAW;QAAA,GADxCF,KAAK;UAAAlB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEV,CACL,CAAC,gBAEF7B,OAAA;UAAAyB,QAAA,EAAG;QAAyB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAChC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC3B,EAAA,CAhFID,QAAQ;AAAA8C,EAAA,GAAR9C,QAAQ;AAkFd,eAAeA,QAAQ;AAAC,IAAA8C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}